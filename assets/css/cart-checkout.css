/**
 * PC Configurator Cart & Checkout Styles
 *
 * @package  W2F_PC_Configurator
 * @since    1.0.0
 */

/* ============================================
   CART PAGE
   ============================================ */

.cart .w2f-pc-configuration-summary {
	margin-top: 10px;
	padding: 15px;
	background: #f9f9f9;
	border-left: 3px solid #0073aa;
	border-radius: 4px;
}

.cart .w2f-pc-configuration-summary strong {
	display: block;
	margin-bottom: 10px;
	color: #0073aa;
	font-size: 14px;
}

.cart .w2f-pc-configuration-summary dl {
	margin: 0;
}

.cart .w2f-pc-configuration-summary dt {
	font-weight: 600;
	margin-top: 8px;
	color: #333;
	font-size: 13px;
}

.cart .w2f-pc-configuration-summary dt:first-child {
	margin-top: 0;
}

.cart .w2f-pc-configuration-summary dd {
	margin-left: 15px;
	margin-bottom: 5px;
	color: #666;
	font-size: 13px;
}

/* WooCommerce cart item data */
.cart .woocommerce-cart-form__cart-item .product-name dl {
	margin-top: 10px;
}

.cart .woocommerce-cart-form__cart-item .product-name dt {
	font-weight: 600;
	margin-top: 8px;
	color: #333;
	font-size: 13px;
}

.cart .woocommerce-cart-form__cart-item .product-name dt:first-child {
	margin-top: 0;
}

.cart .woocommerce-cart-form__cart-item .product-name dd {
	margin-left: 15px;
	margin-bottom: 5px;
	color: #666;
	font-size: 13px;
}

/* ============================================
   CHECKOUT PAGE
   ============================================ */

.checkout .w2f-pc-configuration-summary {
	margin-top: 10px;
	padding: 15px;
	background: #f9f9f9;
	border-left: 3px solid #0073aa;
	border-radius: 4px;
}

.checkout .w2f-pc-configuration-summary strong {
	display: block;
	margin-bottom: 10px;
	color: #0073aa;
	font-size: 14px;
}

.checkout .w2f-pc-configuration-summary dl {
	margin: 0;
}

.checkout .w2f-pc-configuration-summary dt {
	font-weight: 600;
	margin-top: 8px;
	color: #333;
	font-size: 13px;
}

.checkout .w2f-pc-configuration-summary dt:first-child {
	margin-top: 0;
}

.checkout .w2f-pc-configuration-summary dd {
	margin-left: 15px;
	margin-bottom: 5px;
	color: #666;
	font-size: 13px;
}

/* WooCommerce checkout item data */
#order_review .shop_table .cart_item dl {
	margin-top: 10px;
}

#order_review .shop_table .cart_item dt {
	font-weight: 600;
	margin-top: 8px;
	color: #333;
	font-size: 13px;
}

#order_review .shop_table .cart_item dt:first-child {
	margin-top: 0;
}

#order_review .shop_table .cart_item dd {
	margin-left: 15px;
	margin-bottom: 5px;
	color: #666;
	font-size: 13px;
}

/* ============================================
   ORDER DETAILS & EMAILS
   ============================================ */

.woocommerce-order-details .w2f-pc-configuration-summary,
.woocommerce-email .w2f-pc-configuration-summary {
	margin-top: 10px;
	padding: 15px;
	background: #f9f9f9;
	border-left: 3px solid #0073aa;
	border-radius: 4px;
}

.woocommerce-order-details .w2f-pc-configuration-summary strong,
.woocommerce-email .w2f-pc-configuration-summary strong {
	display: block;
	margin-bottom: 10px;
	color: #0073aa;
	font-size: 14px;
}

.woocommerce-order-details .w2f-pc-configuration-summary dl,
.woocommerce-email .w2f-pc-configuration-summary dl {
	margin: 0;
}

.woocommerce-order-details .w2f-pc-configuration-summary dt,
.woocommerce-email .w2f-pc-configuration-summary dt {
	font-weight: 600;
	margin-top: 8px;
	color: #333;
	font-size: 13px;
}

.woocommerce-order-details .w2f-pc-configuration-summary dt:first-child,
.woocommerce-email .w2f-pc-configuration-summary dt:first-child {
	margin-top: 0;
}

.woocommerce-order-details .w2f-pc-configuration-summary dd,
.woocommerce-email .w2f-pc-configuration-summary dd {
	margin-left: 15px;
	margin-bottom: 5px;
	color: #666;
	font-size: 13px;
}

/* Order item meta in tables */
.woocommerce-table--order-details .wc-item-meta dt,
.woocommerce-email-order-items .wc-item-meta dt {
	font-weight: 600;
	margin-top: 8px;
	color: #333;
	font-size: 13px;
}

.woocommerce-table--order-details .wc-item-meta dt:first-child,
.woocommerce-email-order-items .wc-item-meta dt:first-child {
	margin-top: 0;
}

.woocommerce-table--order-details .wc-item-meta dd,
.woocommerce-email-order-items .wc-item-meta dd {
	margin-left: 15px;
	margin-bottom: 5px;
	color: #666;
	font-size: 13px;
}

/* ============================================
   NESTED ORDER ITEM STRUCTURE
   ============================================ */

/* CSS Variables for nested structure */
:root {
	--w2f-pc-nest-indent: 32px;
	--w2f-pc-nest-border-width: 3px;
	--w2f-pc-nest-border-color: #0073aa;
	--w2f-pc-nest-bg-parent: #f8f9fa;
	--w2f-pc-nest-bg-child: #ffffff;
	--w2f-pc-nest-border-child: #e0e0e0;
}

/* Parent configurator product styling */
.woocommerce-table--order-details .w2f-pc-parent-item,
.wc-order-items-table .w2f-pc-parent-item {
	background-color: var(--w2f-pc-nest-bg-parent);
	border-left: var(--w2f-pc-nest-border-width) solid var(--w2f-pc-nest-border-color);
	font-weight: 600;
	position: relative;
}

.woocommerce-table--order-details .w2f-pc-parent-item td,
.wc-order-items-table .w2f-pc-parent-item td {
	padding-top: 12px;
	padding-bottom: 8px;
	border-top: 1px solid var(--w2f-pc-nest-border-child);
}

/* Child component items - nested styling */
.woocommerce-table--order-details .w2f-pc-child-item,
.wc-order-items-table .w2f-pc-child-item {
	background-color: var(--w2f-pc-nest-bg-child);
	border-left: 2px solid var(--w2f-pc-nest-border-child);
	position: relative;
}

.woocommerce-table--order-details .w2f-pc-child-item td,
.wc-order-items-table .w2f-pc-child-item td {
	padding-left: var(--w2f-pc-nest-indent);
	padding-top: 8px;
	padding-bottom: 8px;
	font-size: 0.95em;
	color: #666;
}

/* Visual connection line for nested items */
.woocommerce-table--order-details .w2f-pc-child-item td:first-child::before,
.wc-order-items-table .w2f-pc-child-item td:first-child::before {
	content: '';
	position: absolute;
	left: 16px;
	top: 0;
	bottom: 0;
	width: 1px;
	background-color: var(--w2f-pc-nest-border-child);
}

/* Component title prefix styling */
.woocommerce-table--order-details .w2f-pc-child-item-indent,
.wc-order-items-table .w2f-pc-child-item-indent {
	color: #0073aa;
	font-weight: 600;
	margin-right: 8px;
}

/* Ensure proper spacing between parent and children */
.woocommerce-table--order-details .w2f-pc-parent-item + .w2f-pc-child-item td,
.wc-order-items-table .w2f-pc-parent-item + .w2f-pc-child-item td {
	border-top: none;
}

/* Last child item spacing */
.woocommerce-table--order-details .w2f-pc-child-item:not(.w2f-pc-child-item + .w2f-pc-child-item) td,
.wc-order-items-table .w2f-pc-child-item:not(.w2f-pc-child-item + .w2f-pc-child-item) td {
	padding-bottom: 12px;
	border-bottom: 1px solid var(--w2f-pc-nest-border-child);
}

/* ============================================
   ADMIN ORDER ITEMS - NESTED TABLE STRUCTURE
   ============================================ */

/* Parent configurator product row */
.woocommerce_order_items .w2f-pc-group-parent {
	background-color: #f6f7f7 !important;
	border-left: 4px solid #2271b1 !important;
}

.woocommerce_order_items .w2f-pc-group-parent td {
	padding-top: 14px !important;
	padding-bottom: 10px !important;
	font-weight: 600;
}

/* Components row - contains nested table */
.woocommerce_order_items .w2f-pc-components-row {
	background-color: transparent !important;
	border: none !important;
}

.woocommerce_order_items .w2f-pc-components-cell {
	padding: 0 !important;
	border-top: none !important;
	border-bottom: 2px solid #dcdcde !important;
}

/* Nested components table */
.woocommerce_order_items .w2f-pc-components-table {
	width: 100%;
	margin: 0;
	background: #f9f9f9;
	border-collapse: collapse;
}

.woocommerce_order_items .w2f-pc-components-table tr {
	background-color: #ffffff;
	border-left: 3px solid #dcdcde;
}

.woocommerce_order_items .w2f-pc-components-table tr:hover {
	background-color: #f5f5f5;
}

.woocommerce_order_items .w2f-pc-components-table td {
	padding: 8px !important;
	font-size: 0.95em;
	color: #50575e;
	border-top: 1px solid #e5e5e5;
	border-bottom: 1px solid #e5e5e5;
}

.woocommerce_order_items .w2f-pc-components-table td.thumb {
	width: 50px;
	padding: 8px !important;
}

.woocommerce_order_items .w2f-pc-components-table td.name {
	padding-left: 40px !important;
}

.woocommerce_order_items .w2f-pc-components-table .w2f-pc-child-item-indent {
	color: #2271b1;
	font-weight: 600;
	margin-right: 8px;
}

/* Spacing between different PC groups */
.woocommerce_order_items .w2f-pc-group-parent:not(:first-child) {
	margin-top: 20px;
	border-top: 3px solid #c3c4c7 !important;
}

.woocommerce_order_items tbody#order_line_items tr:first-child.w2f-pc-group-parent {
	border-top: 2px solid #dcdcde !important;
}

/* ============================================
   ADMIN ORDER ITEMS - VISUAL GROUPING (LEGACY - for non-nested display)
   ============================================ */

/* Parent configurator product - start of group */
.woocommerce_order_items .w2f-pc-group-parent {
	background-color: #f6f7f7 !important;
	border-left: 4px solid #2271b1 !important;
	border-top: 2px solid #dcdcde !important;
	position: relative;
}

.woocommerce_order_items .w2f-pc-group-parent.w2f-pc-has-children {
	border-bottom: none !important;
}

.woocommerce_order_items .w2f-pc-group-parent td {
	padding-top: 14px !important;
	padding-bottom: 10px !important;
	font-weight: 600;
}

/* Child component items - grouped under parent */
.woocommerce_order_items .w2f-pc-group-child {
	background-color: #ffffff !important;
	border-left: 4px solid #dcdcde !important;
	position: relative;
}

.woocommerce_order_items .w2f-pc-group-child td {
	padding-left: 40px !important;
	padding-top: 8px !important;
	padding-bottom: 8px !important;
	font-size: 0.95em;
	color: #50575e;
}

/* Visual connection - border continuation for children */
.woocommerce_order_items .w2f-pc-group-child td:first-child::before {
	content: '';
	position: absolute;
	left: 16px;
	top: 0;
	bottom: 0;
	width: 2px;
	background-color: #dcdcde;
	z-index: 1;
}

/* Last child in group - add bottom border to close the group */
.woocommerce_order_items .w2f-pc-group-child.w2f-pc-last-child {
	border-bottom: 2px solid #dcdcde !important;
	margin-bottom: 12px;
}

.woocommerce_order_items .w2f-pc-group-child.w2f-pc-last-child td {
	padding-bottom: 12px !important;
}

/* Spacing between different PC groups */
.woocommerce_order_items .w2f-pc-group-parent:not(:first-child) {
	margin-top: 20px;
	border-top: 3px solid #c3c4c7 !important;
}

/* Remove top border from first parent if it's a configurator */
.woocommerce_order_items tbody#order_line_items tr:first-child.w2f-pc-group-parent {
	border-top: 2px solid #dcdcde !important;
}

/* Component title prefix styling in admin */
.woocommerce_order_items .w2f-pc-group-child .w2f-pc-child-item-indent {
	color: #2271b1;
	font-weight: 600;
	margin-right: 8px;
}

/* Ensure proper visual separation */
.woocommerce_order_items .w2f-pc-group-parent + .w2f-pc-group-child {
	border-top: none !important;
}

/* Non-configurator items - reset styling */
.woocommerce_order_items tr.item:not(.w2f-pc-group-parent):not(.w2f-pc-group-child) {
	background-color: transparent !important;
	border-left: none !important;
}

/* Hover states for better interactivity */
.woocommerce_order_items .w2f-pc-group-parent:hover {
	background-color: #f0f0f1 !important;
}

.woocommerce_order_items .w2f-pc-group-child:hover {
	background-color: #f9f9f9 !important;
}

